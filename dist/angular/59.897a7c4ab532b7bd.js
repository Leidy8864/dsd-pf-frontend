"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[59],{5059:(E,m,s)=>{s.r(m),s.d(m,{AuthModule:()=>w});var a=s(6019),u=s(1509),t=s(3556);let h=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-auth"]],decls:9,vars:0,consts:[[1,"logo"],["src","assets/images/e99cf0e3-1ed3-4a6f-8ed9-8e543fcae8e8 (1).jpg","alt",""],[1,"container"],[1,"content"],[1,"image"],["src","https://clinicaunion.ec/wp-content/uploads/2020/02/doctores-png-5.png","alt",""],[1,"auth-form"]],template:function(n,i){1&n&&(t.TgZ(0,"nav"),t.TgZ(1,"div",0),t._UZ(2,"img",1),t.qZA(),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t._UZ(6,"img",5),t.qZA(),t.TgZ(7,"div",6),t._UZ(8,"router-outlet"),t.qZA(),t.qZA(),t.qZA())},directives:[u.lC],styles:["[_nghost-%COMP%]{position:fixed;height:100%;width:100%;background-color:#fffae7;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%] > nav[_ngcontent-%COMP%]{height:4rem;background-color:#fcfeff;box-shadow:0 .3rem .3rem #cbebff}[_nghost-%COMP%] > nav[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:4rem}[_nghost-%COMP%] > .container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:3rem}[_nghost-%COMP%] > .container[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr}[_nghost-%COMP%] > .container[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{object-fit:contain;width:100%;height:100%}[_nghost-%COMP%] > .container[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .auth-form[_ngcontent-%COMP%]{align-self:center;box-shadow:0 0 .5rem #89d2ff;background-color:#fdfeff;border-radius:.3rem;padding:3rem 2rem}@media (max-width: 650px){[_nghost-%COMP%] > .container[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{grid-template-columns:1fr}[_nghost-%COMP%] > .container[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .image[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%] > .container[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .auth-form[_ngcontent-%COMP%]{width:22rem}}"]}),e})();var o=s(7537),C=s(8260),_=s(4522);let g=(()=>{class e{constructor(n){this.http=n,this.urlBase=`${C.N.api}/usuario`}findAll(){return this.http.get(this.urlBase)}pagination(n=1,i="_"){return this.http.get(`${this.urlBase}/pagination/${i}/${n}`)}findById(n){return this.http.get(`${this.urlBase}/${n}`)}save(n){return this.http.post(this.urlBase,n)}login(n){return this.http.post(`${this.urlBase}/login`,n)}deleteById(n){return this.http.delete(`${this.urlBase}/${n}`)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(_.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var M=s(9474),p=s(8003),d=s(3759),f=s(2637);const v=["captchaElem"];function O(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"form",1),t.TgZ(1,"h1"),t._uU(2,"\xa1Bienvenido!"),t.qZA(),t._UZ(3,"e-input",2),t._UZ(4,"e-input",3),t._UZ(5,"ngx-recaptcha2",4,5),t._UZ(7,"p"),t.TgZ(8,"e-button",6),t.NdJ("click",function(){return t.CHM(n),t.oxw().login()}),t.qZA(),t.TgZ(9,"a",7),t._uU(10,"No tienes una cuenta?"),t.qZA(),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("formGroup",n.formGroup),t.xp6(8),t.Q6J("enable",n.formGroup.valid)}}let P=(()=>{class e{constructor(n,i,c,l){this.router=n,this.usuarioService=i,this.formBuilder=c,this.tokenService=l,this.formGroup=c.group({email:["",o.kI.required],contrasena:["",o.kI.required],captcha:["",o.kI.required]})}ngOnInit(){}login(){this.usuarioService.login(this.formGroup.value).subscribe(n=>{this.tokenService.setUsuario(n),this.router.navigate(1==n.id_tipo_usuario?["admin/sucursal"]:["admin"])},n=>{this.formGroup.reset(),this.captchaElem.resetCaptcha()})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.F0),t.Y36(g),t.Y36(o.qu),t.Y36(M.B))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],viewQuery:function(n,i){if(1&n&&t.Gf(v,5),2&n){let c;t.iGM(c=t.CRH())&&(i.captchaElem=c.first)}},decls:1,vars:1,consts:[["novalidate","",3,"formGroup",4,"ngIf"],["novalidate","",3,"formGroup"],["desc","E-mail","formControlName","email"],["type","password","desc","Contrase\xf1a","formControlName","contrasena"],["siteKey","6LdChUwdAAAAAAVlFY92uiozt36eUMlsZKA99_se","formControlName","captcha"],["captchaElem",""],["desc","Ingresar",3,"enable","click"],["routerLink","/auth/signup"]],template:function(n,i){1&n&&t.YNc(0,O,11,2,"form",0),2&n&&t.Q6J("ngIf",i.formGroup)},directives:[a.O5,o._Y,o.JL,o.sg,p.W,o.JJ,o.u,d.to,f.m,u.yS],styles:['@import"https://fonts.googleapis.com/css2?family=Mukta:wght@200&display=swap";form[_ngcontent-%COMP%]{display:grid;grid-gap:1rem;gap:1rem}form[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-family:"Mukta",sans-serif;color:#0091ff;text-align:center}form[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:.9rem;text-align:center;color:#0091ff}form[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, form[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus{filter:invert(2)}']}),e})();var y=s(8915);const k=["checkbox"];function Z(e,r){if(1&e&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Oqu(n.desc)}}const A=function(e){return{checked:e}};let T=(()=>{class e{constructor(){this.desc="",this.className="primary",this.value="",this.echange=new t.vpe,this.onChange=n=>{},this.onTouched=()=>{}}check(){this.checkbox.nativeElement.click()}updateChanges(n){this.echange.emit(n),this.onChange(this.value)}writeValue(n){this.value=n,this.updateChanges(n)}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["echeck"]],viewQuery:function(n,i){if(1&n&&t.Gf(k,5),2&n){let c;t.iGM(c=t.CRH())&&(i.checkbox=c.first)}},inputs:{desc:"desc",className:"className"},outputs:{echange:"echange"},features:[t._Bn([{provide:o.JU,useExisting:(0,t.Gpc)(()=>e),multi:!0}])],decls:5,vars:7,consts:[[3,"ngClass","click"],[1,"action","fas","fa-check"],["type","checkbox",3,"ngModel","ngModelChange"],["checkbox",""],[4,"ngIf"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return i.check()}),t._UZ(1,"i",1),t.TgZ(2,"input",2,3),t.NdJ("ngModelChange",function(l){return i.value=l})("ngModelChange",function(l){return i.updateChanges(l)}),t.qZA(),t.qZA(),t.YNc(4,Z,2,1,"div",4)),2&n&&(t.Tol(i.className),t.Q6J("ngClass",t.VKq(5,A,i.value)),t.xp6(2),t.Q6J("ngModel",i.value),t.xp6(2),t.Q6J("ngIf",""!=i.desc))},directives:[a.mk,o.Wl,o.JJ,o.On,a.O5],styles:["[_nghost-%COMP%]{display:flex;justify-items:left;align-items:center;grid-gap:.5rem;gap:.5rem;color:#0091ff;font-size:.9rem;padding:0 .5rem}[_nghost-%COMP%]   .primary[_ngcontent-%COMP%], [_nghost-%COMP%]   .invert[_ngcontent-%COMP%]{display:flex;align-items:center;justify-items:left;border-radius:.3rem;height:1.2rem;width:1.2rem;cursor:pointer}[_nghost-%COMP%]   .primary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .primary[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%], [_nghost-%COMP%]   .invert[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .invert[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .primary[_ngcontent-%COMP%]{border:solid .15rem #0091ff;color:#0091ff}[_nghost-%COMP%]   .invert[_ngcontent-%COMP%]{border:solid .15rem #967300;color:#967300}[_nghost-%COMP%]   .checked[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:block}"]}),e})();const x=function(){return{id:1,desc:"DNI"}},N=function(){return{id:2,desc:"CARNET DE EXTRANJERIA"}},U=function(e,r){return[e,r]};function I(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"form",1),t.TgZ(1,"h1"),t._uU(2,"Registrate"),t.qZA(),t._UZ(3,"i"),t._UZ(4,"e-input",2),t._UZ(5,"e-input",3),t._UZ(6,"e-input",4),t._UZ(7,"e-select",5),t._UZ(8,"e-input",6),t._UZ(9,"e-input",7),t._UZ(10,"e-input",8),t._UZ(11,"echeck",9),t._UZ(12,"echeck",10),t._UZ(13,"i"),t.TgZ(14,"e-button",11),t.NdJ("click",function(){return t.CHM(n),t.oxw().signup()}),t.qZA(),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("formGroup",n.formGroup),t.xp6(7),t.Q6J("data",t.WLB(5,U,t.DdM(3,x),t.DdM(4,N))),t.xp6(7),t.Q6J("enable",n.formGroup.valid&&n.formGroup.controls.contrasena.value==n.formGroup.controls.confirm_contrasena.value)}}const G=[{path:"",component:h,children:[{path:"login",component:P},{path:"signup",component:(()=>{class e{constructor(n,i,c){this.formBuilder=n,this.usuarioService=i,this.router=c,this.formGroup=n.group({id:[0,o.kI.required],nombres:["",o.kI.required],apellidos:["",o.kI.required],email:["",o.kI.required],id_tipo_documento:["",o.kI.required],nro_documento:["",o.kI.required],id_tipo_usuario:[2,o.kI.required],contrasena:["",o.kI.required],confirm_contrasena:["",o.kI.required],terminos01:[!1,o.kI.requiredTrue],terminos02:[!1,o.kI.requiredTrue]})}ngOnInit(){}signup(){this.usuarioService.save(this.formatValue()).subscribe(n=>{this.router.navigate(["auth"])})}formatValue(){return this.formGroup.value.id_tipo_documento=Number(this.formGroup.value.id_tipo_documento),this.formGroup.value}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(o.qu),t.Y36(g),t.Y36(u.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-signup"]],decls:1,vars:1,consts:[["novalidate","",3,"formGroup",4,"ngIf"],["novalidate","",3,"formGroup"],["formControlName","nombres","desc","Nombres"],["formControlName","apellidos","desc","Apellidos"],["formControlName","email","desc","E-mail"],["formControlName","id_tipo_documento","desc","Documento","key","id","display","desc",3,"data"],["formControlName","nro_documento","desc","Nro Documento"],["formControlName","contrasena","type","password","desc","Contrase\xf1a"],["formControlName","confirm_contrasena","type","password","desc","Confirmar Contrase\xf1a"],["formControlName","terminos01","desc","Acepto los terminos y condiciones"],["formControlName","terminos02","desc","Acepto la politica de privacidad"],["desc"," Registrate",3,"enable","click"]],template:function(n,i){1&n&&t.YNc(0,I,15,8,"form",0),2&n&&t.Q6J("ngIf",i.formGroup)},directives:[a.O5,o._Y,o.JL,o.sg,p.W,o.JJ,o.u,y.h,T,f.m],styles:['@import"https://fonts.googleapis.com/css2?family=Mukta:wght@200&display=swap";form[_ngcontent-%COMP%]{display:grid;grid-gap:1rem;gap:1rem}form[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-family:"Mukta",sans-serif;color:#0091ff;text-align:center}form[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:.9rem;text-align:center;color:#0091ff}']}),e})()},{path:"**",redirectTo:"login"}]}];let J=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[a.ez,u.Bz.forChild(G)],u.Bz]}),e})(),b=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[a.ez,o.u5]]}),e})(),w=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[a.ez,J,o.u5,o.UX,b,d.e7]]}),e})()}}]);